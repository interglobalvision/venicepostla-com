{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","document","ready","HomeAnimation","fixWidows","each","string","html","replace","shuffleArray","array","i","length","j","Math","floor","random","temp","active","nextImage","numberOfFirstLoadImages","requestDelay","animationSpeed","$animation","images","WP","animationImages","requestFirstImages","append","bind","addClass","first","animate","setTimeout","loadNextImage","console","log","animationInterval","setInterval","$active","$next","next","removeClass"],"mappings":"AAGAA,MACEC,gBAAiB,IACjBC,KAAM,WACJ,GAAIC,OAAQC,IAEZC,GAAEC,QAAQC,OAAO,WACfJ,MAAMK,aAGRH,EAAEI,UAAUC,MAAM,cAIlBP,MAAMQ,cAAcT,QAGtBM,SAAU,aAKVI,UAAW,WAETP,EAAE,kBAAkBQ,KAAK,WACvB,GAAIC,QAAST,EAAED,MAAMW,MACrBD,QAASA,OAAOE,QAAQ,YAAY,YACpCX,EAAED,MAAMW,KAAKD,WAIjBG,aAAc,SAASC,OACrB,IAAK,GAAIC,GAAID,MAAME,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACzC,GAAIE,GAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,IACpCM,KAAOP,MAAMC,EAEjBD,OAAMC,GAAKD,MAAMG,GACjBH,MAAMG,GAAKI,QAKjBzB,KAAKW,eACHe,QAAQ,EACRC,UAAW,EACXC,wBAAyB,EACzBC,aAAc,IACdC,eAAgB,IAEhB5B,KAAM,WACJ,GAAIC,OAAQC,IAEZD,OAAM4B,WAAa1B,EAAE,mBACrBF,MAAM6B,OAASC,GAAGC,gBAEd/B,MAAM6B,OAAOZ,OAAS,IACxBpB,KAAKiB,aAAad,MAAM6B,QAExB7B,MAAMgC,uBAIVA,mBAAoB,WAGlB,IAAK,GAFDhC,OAAQC,KAEHe,EAAI,EAAGA,EAAIhB,MAAMyB,wBAAyBT,IACjDhB,MAAM4B,WAAWK,OAAO,aAAejC,MAAM6B,OAAOb,GAAK,yBAA2BA,EAAI,gCAExFd,EAAE,oBAAsBc,GAAGkB,KAAK,OAAQ,WACtChC,EAAED,MAAMkC,SAAS,0BAEZnC,MAAMuB,SACTrB,EAAE,2BAA2BkC,QAAQD,SAAS,UAE9CnC,MAAMqC,WAGRlC,OAAOmC,WAAW,WAChBtC,MAAMuC,iBACLvC,MAAM0B,gBAGX1B,MAAMwB,UAAYR,EAAI,GAI1BuB,cAAe,WACb,GAAIvC,OAAQC,IAERD,OAAM6B,OAAO7B,MAAMwB,YACrBxB,MAAM4B,WAAWK,OAAO,aAAejC,MAAM6B,OAAO7B,MAAMwB,WAAa,yBAA2BxB,MAAMwB,UAAY,gCAEpHtB,EAAE,oBAAsBF,MAAMwB,WAAWU,KAAK,OAAQ,WACpDhC,EAAED,MAAMkC,SAAS,0BAEjBhC,OAAOmC,WAAW,WAChBtC,MAAMuC,iBACLvC,MAAM0B,gBAGX1B,MAAMwB,aAENgB,QAAQC,IAAI,eAIhBJ,QAAS,WACP,GAAIrC,OAAQC,IAEZD,OAAMuB,QAAS,EAEfvB,MAAM0C,kBAAoBC,YAAY,WACpC,GAAIC,SAAU1C,EAAE,kCACZ2C,MAAQD,QAAQE,KAAK,0BAEzBF,SAAQG,YAAY,UAEhBF,MAAM5B,OACR4B,MAAMV,SAAS,UAEfjC,EAAE,2BAA2BkC,QAAQD,SAAS,WAE/CnC,MAAM2B,kBAKb9B,KAAKE","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Site, WP */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    $(document).ready(function () {\n\n    });\n\n    _this.HomeAnimation.init();\n  },\n\n  onResize: function() {\n    var _this = this;\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n\n  shuffleArray: function(array) {\n    for (var i = array.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = array[i];\n\n      array[i] = array[j];\n      array[j] = temp;\n    }\n  }\n};\n\nSite.HomeAnimation = {\n  active: false,\n  nextImage: 0,\n  numberOfFirstLoadImages: 6,\n  requestDelay: 250,\n  animationSpeed: 250,\n\n  init: function() {\n    var _this = this;\n\n    _this.$animation = $('#home-animation');\n    _this.images = WP.animationImages;\n\n    if (_this.images.length > 0) {\n      Site.shuffleArray(_this.images);\n\n      _this.requestFirstImages();\n    }\n  },\n\n  requestFirstImages: function() {\n    var _this = this;\n\n    for (var i = 0; i < _this.numberOfFirstLoadImages; i++) {\n      _this.$animation.append('<img src=\"' + _this.images[i] + '\" id=\"animation-image-' + i + '\" class=\"animation-image\" />');\n\n      $('#animation-image-' + i).bind('load', function() {\n        $(this).addClass('animation-image-loaded');\n\n        if (!_this.active) {\n          $('.animation-image-loaded').first().addClass('active');\n\n          _this.animate();\n        }\n\n        window.setTimeout(function() {\n          _this.loadNextImage();\n        }, _this.requestDelay);\n      });\n\n      _this.nextImage = i + 1;\n    }\n  },\n\n  loadNextImage: function() {\n    var _this = this;\n\n    if (_this.images[_this.nextImage]) {\n      _this.$animation.append('<img src=\"' + _this.images[_this.nextImage] + '\" id=\"animation-image-' + _this.nextImage + '\" class=\"animation-image\" />');\n\n      $('#animation-image-' + _this.nextImage).bind('load', function() {\n        $(this).addClass('animation-image-loaded');\n\n        window.setTimeout(function() {\n          _this.loadNextImage();\n        }, _this.requestDelay);\n      });\n\n      _this.nextImage++;\n    } else {\n      console.log('all loaded');\n    }\n  },\n\n  animate: function() {\n    var _this = this;\n\n    _this.active = true;\n\n    _this.animationInterval = setInterval(function() {\n      var $active = $('.animation-image-loaded.active');\n      var $next = $active.next('.animation-image-loaded');\n\n      $active.removeClass('active');\n\n      if ($next.length) {\n        $next.addClass('active');\n      } else {\n        $('.animation-image-loaded').first().addClass('active');\n      }\n    }, _this.animationSpeed);\n\n  }\n};\n\nSite.init();"]}